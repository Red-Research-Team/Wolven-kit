<catel:UserControl
 x:Class="WolvenKit.Views.Editor.AudioTool.AudioToolView"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
 xmlns:catel="http://schemas.catelproject.com"
 xmlns:conv="clr-namespace:WolvenKit.Functionality.Converters;assembly=WolvenKit.App"
 xmlns:hc="https://handyorg.github.io/handycontrol"
 xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
 xmlns:svl1="clr-namespace:WPFSoundVisualizationLib;assembly=WPFSoundVisualizationLibNet5"
 BorderBrush="{x:Null}"
 IsVisibleChanged="DataWindow_IsVisibleChanged"
 >

    <catel:UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <hc:ThemeResources />
                <hc:Theme />
            </ResourceDictionary.MergedDictionaries>
            <conv:StringPathToItemStringConverter x:Key="PathConverter" />




            <!--  Region: WaveformTimeline  -->
            <LinearGradientBrush x:Key="WaveformRightLevelBrush" StartPoint="1,0" EndPoint="1,1">
                <GradientStop Offset="0" Color="{DynamicResource MahApps.Colors.AccentBase}" />
                <GradientStop Offset="1" Color="Black" />
            </LinearGradientBrush>
            <LinearGradientBrush x:Key="WaveformLeftLevelBrush" StartPoint="1,1" EndPoint="1,0">
                <GradientStop Offset="0" Color="{DynamicResource MahApps.Colors.Accent4}" />
                <GradientStop Offset="1" Color="White" />
            </LinearGradientBrush>
            <Style TargetType="{x:Type svl1:WaveformTimeline}">
                <Setter Property="RepeatRegionBrush" Value="{DynamicResource MahApps.Brushes.Gray.SemiTransparent}" />
                <Setter Property="TimelineTickBrush" Value="{DynamicResource MahApps.Brushes.SemiTransparent}" />
                <Setter Property="ProgressBarBrush" Value="{DynamicResource MahApps.Brushes.SemiTransparent}" />
                <Setter Property="CenterLineBrush" Value="{DynamicResource MahApps.Brushes.SemiTransparent}" />
                <Setter Property="RightLevelBrush" Value="{StaticResource WaveformRightLevelBrush}" />
                <Setter Property="LeftLevelBrush" Value="{StaticResource WaveformLeftLevelBrush}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type svl1:WaveformTimeline}">
                            <Border
                             Background="{TemplateBinding Background}"
                             BorderBrush="{TemplateBinding BorderBrush}"
                             BorderThickness="{TemplateBinding BorderThickness}"
                             >
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <Canvas
                                     Name="PART_Waveform"
                                     Grid.Row="1"
                                     ClipToBounds="True"
                                     />
                                    <Border
                                     Grid.Row="0"
                                     Panel.ZIndex="0"
                                     BorderBrush="{TemplateBinding TimelineTickBrush}"
                                     BorderThickness="0,0,0,1"
                                     >
                                        <Canvas
                                         Name="PART_Timeline"
                                         Height="20"
                                         ClipToBounds="True"
                                         />
                                    </Border>
                                    <Canvas
                                     Name="PART_Repeat"
                                     Grid.Row="1"
                                     ClipToBounds="True"
                                     />
                                    <Canvas
                                     Name="PART_Progress"
                                     Grid.Row="0"
                                     Grid.RowSpan="2"
                                     ClipToBounds="True"
                                     />
                                </Grid>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <!--  EndRegion: WaveformTimeline  -->


            <Style TargetType="{x:Type svl1:SpectrumAnalyzer}">
                <Setter Property="BarStyle">
                    <Setter.Value>
                        <Style TargetType="{x:Type Rectangle}">
                            <Setter Property="Fill">
                                <Setter.Value>
                                    <LinearGradientBrush>
                                        <GradientStop Offset="0" Color="{DynamicResource MahApps.Colors.AccentBase}" />
                                        <GradientStop Offset="1" Color="{DynamicResource MahApps.Colors.Gray.SemiTransparent}" />

                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>

                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="PeakStyle">
                    <Setter.Value>
                        <Style TargetType="{x:Type Rectangle}">
                            <Setter Property="Fill">
                                <Setter.Value>
                                    <LinearGradientBrush>
                                        <GradientStop Offset="0" Color="{DynamicResource MahApps.Colors.AccentBase}" />

                                    </LinearGradientBrush>
                                </Setter.Value>
                            </Setter>


                            <Setter Property="Effect">
                                <Setter.Value>
                                    <hc:BrightnessEffect Brightness="3" />
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type svl1:SpectrumAnalyzer}">
                            <Border
                             Background="{TemplateBinding Background}"
                             BorderBrush="{TemplateBinding BorderBrush}"
                             BorderThickness="{TemplateBinding BorderThickness}"
                             >
                                <Canvas
                                 Name="PART_SpectrumCanvas"
                                 HorizontalAlignment="Stretch"
                                 VerticalAlignment="Stretch"
                                 ClipToBounds="True"
                                 />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>





            <!--  region PreviewSlider  -->

            <Style x:Key="PreviewSliderRepeatButtonHorizontalStyle" TargetType="RepeatButton">
                <Setter Property="OverridesDefaultStyle" Value="true" />
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Focusable" Value="false" />
                <Setter Property="IsTabStop" Value="false" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="RepeatButton">
                            <Border
                             Width="{TemplateBinding Width}"
                             Height="{TemplateBinding Height}"
                             Background="Transparent"
                             >
                                <Rectangle Height="2" Fill="{TemplateBinding Background}" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="PreviewSliderRepeatButtonVerticalStyle" TargetType="RepeatButton">
                <Setter Property="OverridesDefaultStyle" Value="true" />
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Focusable" Value="false" />
                <Setter Property="IsTabStop" Value="false" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="RepeatButton">
                            <Border
                             Width="{TemplateBinding Width}"
                             Height="{TemplateBinding Height}"
                             Background="Transparent"
                             >
                                <Rectangle Width="2" Fill="{TemplateBinding Background}" />
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <ControlTemplate x:Key="PreviewSliderThumb" TargetType="Thumb">
                <Border
                 Name="BorderDot"
                 Width="18"
                 Height="18"
                 Background="{DynamicResource MahApps.HamburgerMenu.Pane.Background}"
                 BorderBrush="{DynamicResource PrimaryBrush}"
                 BorderThickness="0"
                 CornerRadius="9"
                 Effect="{StaticResource EffectShadow1}"
                 />
                <ControlTemplate.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Effect" Value="{StaticResource EffectShadow2}" />
                    </Trigger>
                    <EventTrigger RoutedEvent="PreviewMouseLeftButtonDown">
                        <EventTrigger.Actions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <ThicknessAnimation
                                     Storyboard.TargetName="BorderDot"
                                     Storyboard.TargetProperty="BorderThickness"
                                     To="2"
                                     Duration="0:0:.1"
                                     />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger.Actions>
                    </EventTrigger>
                    <EventTrigger RoutedEvent="PreviewMouseLeftButtonUp">
                        <EventTrigger.Actions>
                            <BeginStoryboard>
                                <Storyboard>
                                    <ThicknessAnimation
                                     Storyboard.TargetName="BorderDot"
                                     Storyboard.TargetProperty="BorderThickness"
                                     To="1"
                                     Duration="0:0:.1"
                                     />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger.Actions>
                    </EventTrigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>

            <ControlTemplate x:Key="PreviewSliderHorizontal" TargetType="hc:PreviewSlider">
                <hc:SimplePanel>
                    <Border
                     x:Name="TrackBackground"
                     Height="2"
                     Margin="9,0"
                     VerticalAlignment="center"
                     Background="{TemplateBinding Background}"
                     />
                    <Track x:Name="PART_Track" Margin="9,0">
                        <Track.DecreaseRepeatButton>
                            <RepeatButton
                             Background="{DynamicResource PrimaryBrush}"
                             Command="{x:Static Slider.DecreaseLarge}"
                             Style="{StaticResource PreviewSliderRepeatButtonHorizontalStyle}"
                             />
                        </Track.DecreaseRepeatButton>
                        <Track.IncreaseRepeatButton>
                            <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource PreviewSliderRepeatButtonHorizontalStyle}" />
                        </Track.IncreaseRepeatButton>
                        <Track.Thumb>
                            <Thumb
                             x:Name="PART_Thumb"
                             Width="18"
                             Height="18"
                             Margin="-9,0"
                             VerticalAlignment="Center"
                             Focusable="False"
                             OverridesDefaultStyle="True"
                             Template="{StaticResource PreviewSliderThumb}"
                             />
                        </Track.Thumb>
                    </Track>
                </hc:SimplePanel>
            </ControlTemplate>

            <ControlTemplate x:Key="PreviewSliderVertical" TargetType="hc:PreviewSlider">
                <hc:SimplePanel>
                    <Border
                     x:Name="TrackBackground"
                     Width="2"
                     Margin="0,9"
                     HorizontalAlignment="center"
                     Background="{TemplateBinding Background}"
                     />
                    <Track x:Name="PART_Track" Margin="0,9">
                        <Track.DecreaseRepeatButton>
                            <RepeatButton
                             Background="{DynamicResource PrimaryBrush}"
                             Command="{x:Static Slider.DecreaseLarge}"
                             Style="{StaticResource PreviewSliderRepeatButtonVerticalStyle}"
                             />
                        </Track.DecreaseRepeatButton>
                        <Track.IncreaseRepeatButton>
                            <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource PreviewSliderRepeatButtonVerticalStyle}" />
                        </Track.IncreaseRepeatButton>
                        <Track.Thumb>
                            <Thumb
                             x:Name="PART_Thumb"
                             Width="18"
                             Height="18"
                             Margin="0,-9"
                             HorizontalAlignment="Center"
                             Focusable="False"
                             OverridesDefaultStyle="True"
                             Template="{StaticResource PreviewSliderThumb}"
                             />
                        </Track.Thumb>
                    </Track>
                </hc:SimplePanel>
            </ControlTemplate>

            <Style x:Key="PreviewSliderBaseStyle" TargetType="hc:PreviewSlider">
                <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false" />
                <Setter Property="IsMoveToPointEnabled" Value="True" />
                <Setter Property="Background" Value="{DynamicResource SecondaryRegionBrush}" />
                <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
                <Setter Property="Template" Value="{StaticResource PreviewSliderHorizontal}" />
                <Style.Triggers>
                    <Trigger Property="Orientation" Value="Vertical">
                        <Setter Property="Template" Value="{StaticResource PreviewSliderVertical}" />
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter Property="Opacity" Value=".4" />
                    </Trigger>
                </Style.Triggers>
            </Style>

            <!--  endregion  -->
        </ResourceDictionary>
    </catel:UserControl.Resources>

    <Border
     Width="auto"
     Height="auto"
     hc:ThemeManager.RequestedAccentColor="{DynamicResource MahApps.Brushes.Accent3}"
     BorderBrush="{DynamicResource MahApps.Brushes.Accent4}"
     BorderThickness="1"
     >

        <Grid Background="{DynamicResource RegionBrush}">

            <Grid Margin="0,0,0,0">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*" />
                    <ColumnDefinition Width="1*" />
                </Grid.ColumnDefinitions>

                <Grid
                 Grid.Column="1"
                 Margin="0"
                 Background="{DynamicResource RegionBrush}"
                 >

                    <Grid
                     Margin="5"
                     VerticalAlignment="Stretch"
                     Background="{DynamicResource Fluent.Ribbon.Brushes.Backstage.Background}"
                     >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40" />
                            <RowDefinition Height="2*" />
                            <RowDefinition Height="2*" />
                            <RowDefinition Height="50" />

                        </Grid.RowDefinitions>
                        <Border
                         Grid.Row="3"
                         Width="auto"
                         Margin="10,0,10,0"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Stretch"
                         Background="{DynamicResource RegionBrush}"
                         CornerRadius="5"
                         >
                            <Grid HorizontalAlignment="Center">
                                <hc:PreviewSlider
                                 Margin="130,0,100,0"
                                 Maximum="10"
                                 Minimum="0"
                                 Style="{StaticResource PreviewSliderBaseStyle}"
                                 TickFrequency="0.1"
                                 TickPlacement="BottomRight"
                                 Ticks="0.1"
                                 Visibility="Collapsed"
                                 Value="{Binding CurrentPlayer.Volume, Mode=TwoWay}"
                                 >
                                    <!--  Volume Slider  -->
                                </hc:PreviewSlider>

                                <StackPanel
                                 Margin="5,0,0,0"
                                 HorizontalAlignment="Left"
                                 VerticalAlignment="Center"
                                 Orientation="Horizontal"
                                 >
                                    <Button
                                     x:Name="PlayButton"
                                     Width="35"
                                     Height="25"
                                     Margin="0"
                                     hc:IconElement.Geometry="{DynamicResource AudioPlay}"
                                     Background="Transparent"
                                     BorderBrush="Transparent"
                                     Click="PlayButton_Click"
                                     Effect="{StaticResource MahApps.DropShadowEffect.Menu}"
                                     Style="{StaticResource ButtonIcon}"
                                     />
                                    <hc:Divider
                                     Height="10"
                                     LineStroke="{DynamicResource MahApps.Brushes.Accent3}"
                                     Orientation="Vertical"
                                     />
                                    <Button
                                     x:Name="PauseButton"
                                     Width="35"
                                     Height="25"
                                     Margin="0"
                                     hc:IconElement.Geometry="{DynamicResource AudioPause}"
                                     Background="Transparent"
                                     BorderBrush="Transparent"
                                     Click="PauseButton_Click"
                                     Effect="{StaticResource MahApps.DropShadowEffect.Menu}"
                                     Style="{StaticResource ButtonIcon}"
                                     />
                                    <hc:Divider
                                     Height="10"
                                     LineStroke="{DynamicResource MahApps.Brushes.Accent3}"
                                     Orientation="Vertical"
                                     />
                                    <Button
                                     x:Name="StopButton"
                                     Width="35"
                                     Height="25"
                                     Margin="0"
                                     hc:IconElement.Geometry="{DynamicResource AudioStop}"
                                     Background="Transparent"
                                     BorderBrush="Transparent"
                                     Click="StopButton_Click"
                                     Effect="{StaticResource MahApps.DropShadowEffect.Menu}"
                                     Style="{StaticResource ButtonIcon}"
                                     />
                                    <hc:Divider
                                     Height="10"
                                     LineStroke="{DynamicResource MahApps.Brushes.Accent3}"
                                     Orientation="Vertical"
                                     />

                                    <Border
                                     Margin="10"
                                     BorderBrush="{DynamicResource MahApps.Brushes.Accent3}"
                                     BorderThickness="1"
                                     CornerRadius="5"
                                     Effect="{StaticResource MahApps.DropShadowEffect.Menu}"
                                     >
                                        <svl1:DigitalClock
                                         x:Name="clockDisplay"
                                         Grid.Row="1"
                                         Grid.ColumnSpan="2"
                                         Margin="5"
                                         HorizontalAlignment="Right"
                                         Effect="{StaticResource MahApps.DropShadowEffect.Menu}"
                                         ShowHours="True"
                                         ShowSubSeconds="False"
                                         Time="{Binding ChannelPosition}"
                                         />
                                    </Border>

                                </StackPanel>



                            </Grid>
                        </Border>

                        <Border
                         Grid.Row="2"
                         Height="auto"
                         Margin="10,10,10,10"
                         VerticalAlignment="Stretch"
                         Background="{DynamicResource RegionBrush}"
                         CornerRadius="5"
                         >
                            <Grid>
                                <svl1:WaveformTimeline
                                 x:Name="waveformTimeline"
                                 Margin="5"
                                 BorderThickness="1"
                                 />
                            </Grid>
                        </Border>

                        <Border
                         Grid.Row="1"
                         Height="auto"
                         Margin="10,10,10,10"
                         VerticalAlignment="Stretch"
                         Background="{DynamicResource RegionBrush}"
                         CornerRadius="5"
                         >
                            <Grid>
                                <svl1:SpectrumAnalyzer
                                 x:Name="spectrumAnalyzer"
                                 Height="auto"
                                 Margin="0"
                                 VerticalAlignment="Stretch"
                                 BarCount="40"
                                 />
                            </Grid>
                        </Border>

                        <Border
                         Grid.Row="0"
                         Height="40"
                         MaxHeight="40"
                         Margin="10,0,10,0"
                         VerticalAlignment="Center"
                         Background="{DynamicResource RegionBrush}"
                         CornerRadius="5"
                         >
                            <Grid>

                                <hc:RunningBlock
                                 x:Name="RunnerText"
                                 AutoReverse="True"
                                 BorderBrush="Transparent"
                                 Content="{Binding SelectedItem.Text, ElementName=PlayListView, Converter={StaticResource PathConverter}, ConverterParameter=1}"
                                 Runaway="False"
                                 Duration="00:00:30"
                                 />
                            </Grid>
                        </Border>
                    </Grid>

                    <Border
                     Margin="5,5,5,5"
                     Background="{DynamicResource Fluent.Ribbon.Brushes.Backstage.Background}"
                     CornerRadius="15"
                     Visibility="Collapsed"
                     >
                        <Grid>
                            <Border
                             x:Name="StepOne"
                             Margin="15,15,15,55"
                             Background="{DynamicResource RegionBrush}"
                             CornerRadius="15"
                             >
                                <Grid>
                                    <StackPanel>
                                        <TextBlock
                                         Margin="10"
                                         HorizontalAlignment="Center"
                                         Text="Convert"
                                         />
                                        <hc:Divider Margin="5" />
                                        <TextBlock
                                         Margin="10"
                                         HorizontalAlignment="Center"
                                         TextAlignment="Center"
                                         >
                                            <Run Text="To convert an audio file to .wav," />
                                            <LineBreak />
                                            <Run Text="It's recommended to use the following converter." />
                                        </TextBlock>
                                    </StackPanel>
                                    <Button
                                     Height="30"
                                     Margin="35"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Bottom"
                                     Background="{DynamicResource MahApps.Brushes.Accent3}"
                                     Style="{StaticResource ButtonPrimary}"
                                     >
                                        <StackPanel Orientation="Horizontal">
                                            <iconPacks:PackIconBootstrapIcons Kind="BoxArrowUpRight" />
                                            <TextBlock Margin="5,0,0,0" Text="Converter" />
                                        </StackPanel>
                                    </Button>
                                </Grid>
                            </Border>

                            <Border
                             x:Name="StepTwo"
                             Margin="15,15,15,55"
                             Background="{DynamicResource RegionBrush}"
                             CornerRadius="15"
                             >
                                <Grid>
                                    <StackPanel>
                                        <TextBlock
                                         Margin="10"
                                         HorizontalAlignment="Center"
                                         Text="Prepare"
                                         />
                                        <hc:Divider Margin="5" />
                                        <TextBlock
                                         Margin="10"
                                         HorizontalAlignment="Center"
                                         TextAlignment="Center"
                                         >
                                            <Run Text="Prepare your .wav file for Wwise." />
                                            <LineBreak />
                                        </TextBlock>
                                    </StackPanel>
                                    <Button
                                     Height="30"
                                     Margin="35"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Bottom"
                                     Background="{DynamicResource MahApps.Brushes.Accent3}"
                                     Style="{StaticResource ButtonPrimary}"
                                     >
                                        <StackPanel Orientation="Horizontal">
                                            <iconPacks:PackIconBootstrapIcons Kind="BoxArrowUpRight" />
                                            <TextBlock Margin="5,0,0,0" Text="Prepare" />
                                        </StackPanel>
                                    </Button>
                                </Grid>
                            </Border>

                            <Border
                             x:Name="StepThree"
                             Margin="15,15,15,55"
                             Background="{DynamicResource RegionBrush}"
                             CornerRadius="15"
                             >
                                <Grid>
                                    <StackPanel>
                                        <TextBlock
                                         Margin="10"
                                         HorizontalAlignment="Center"
                                         Text="Edit"
                                         />
                                        <hc:Divider Margin="5" />
                                        <TextBlock
                                         Margin="10"
                                         HorizontalAlignment="Center"
                                         TextAlignment="Center"
                                         >
                                            <Run Text="1. Open the file in Wwise." />
                                            <LineBreak />
                                            <Run Text="2. Set the project setting to high Vorbis." />
                                            <LineBreak />
                                            <Run Text="3. Right click on the file and convert it." />
                                        </TextBlock>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <Border
                             x:Name="StepFour"
                             Margin="15,15,15,55"
                             Background="{DynamicResource RegionBrush}"
                             CornerRadius="15"
                             >
                                <Grid>
                                    <StackPanel>
                                        <TextBlock
                                         Margin="10"
                                         HorizontalAlignment="Center"
                                         Text="Replace"
                                         />
                                        <hc:Divider Margin="5" />
                                        <TextBlock
                                         Margin="10"
                                         HorizontalAlignment="Center"
                                         TextAlignment="Center"
                                         >
                                            <Run Text="Replace the file with the one converted in Wwise." />
                                            <LineBreak />
                                            <Run Text="It's recommended to use the following converter." />
                                        </TextBlock>
                                    </StackPanel>
                                    <Button
                                     Height="30"
                                     Margin="35"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Bottom"
                                     Background="{DynamicResource MahApps.Brushes.Accent3}"
                                     Style="{StaticResource ButtonPrimary}"
                                     >
                                        <StackPanel Orientation="Horizontal">
                                            <iconPacks:PackIconBootstrapIcons Kind="BoxArrowUpRight" />
                                            <TextBlock Margin="5,0,0,0" Text="Replace File" />
                                        </StackPanel>
                                    </Button>
                                </Grid>
                            </Border>

                            <Button
                             Width="50"
                             Height="30"
                             Margin="3,0,0,16"
                             HorizontalAlignment="Left"
                             VerticalAlignment="Bottom"
                             hc:IconElement.Geometry="{DynamicResource GlobalLeftArrow}"
                             Background="Transparent"
                             BorderBrush="{DynamicResource MahApps.Brushes.ThemeBackground}"
                             Click="PreviousPage"
                             Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                             IsEnabled="True"
                             Style="{StaticResource ButtonIcon}"
                             />
                            <hc:StepBar
                             x:Name="StepMain"
                             Margin="35,15,35,15"
                             VerticalAlignment="Bottom"
                             Dock="Top"
                             >
                                <hc:StepBarItem Content="Convert" />
                                <hc:StepBarItem Content="Prepare" />
                                <hc:StepBarItem Content="Edit" />
                                <hc:StepBarItem Content="Replace" />
                            </hc:StepBar>
                            <Button
                             Width="50"
                             Height="30"
                             Margin="0,0,3,16"
                             HorizontalAlignment="Right"
                             VerticalAlignment="Bottom"
                             hc:IconElement.Geometry="{DynamicResource GlobalRightArrow}"
                             BorderBrush="{DynamicResource MahApps.Brushes.ThemeBackground}"
                             Click="NextPage"
                             Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                             IsEnabled="True"
                             Style="{StaticResource ButtonIcon}"
                             />

                            <Border Height="250" />
                        </Grid>
                    </Border>
                </Grid>

                <Grid Grid.Column="0">
                    <Grid.RowDefinitions />

                    <Border Margin="0" Background="{DynamicResource RegionBrush}">
                        <Grid>


                            <ListBox
                             x:Name="PlayListView"
                             MinWidth="250"
                             Margin="2,20,2,20"
                             Background="{DynamicResource RegionBrush}"
                             BorderBrush="Transparent"
                             ItemsSource="{Binding AudioFileList}"
                             PreviewMouseLeftButtonUp="PlayListView_OnPreviewMouseLeftButtonUp"
                             Style="{DynamicResource ListBoxBaseTransparentStyle}"
                             >
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Width="500" Text="{Binding Text, Converter={StaticResource PathConverter}}" />
                                    </DataTemplate>


                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Grid>
                    </Border>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</catel:UserControl>
