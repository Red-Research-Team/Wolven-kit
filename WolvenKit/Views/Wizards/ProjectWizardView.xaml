<catel:UserControl
    x:Class="WolvenKit.Views.Wizards.ProjectWizardView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:av="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:catel="http://schemas.catelproject.com"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
    Tag="Project Wizard"
    mc:Ignorable="av">

    <catel:UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <hc:ThemeResources />
                <hc:Theme />
                <ResourceDictionary Source="pack://application:,,,/Themes/TextBoxExtendedCustom.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </catel:UserControl.Resources>
    <Grid
        MinWidth="150"
        Margin="0"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        hc:ThemeManager.RequestedAccentColor="{DynamicResource MahApps.Brushes.Accent3}">

        <Grid.RowDefinitions>
            <RowDefinition Height="15*" />
            <RowDefinition Height="90*" />
            <RowDefinition Height="10*" />
        </Grid.RowDefinitions>

        <StackPanel
            Margin="0,0,0,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Orientation="Horizontal">

            <iconPacks:PackIconCodicons
                Grid.Row="0"
                Width="30"
                Height="30"
                Margin="0,0,0,0"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                Kind="Hubot"
                Spin="False"
                SpinAutoReverse="False" />

            <TextBlock
                Grid.Row="0"
                Margin="10,-1,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                FontSize="17"
                Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                Text="Let's create a project!" />
        </StackPanel>

        <Grid x:Name="PageGrid" Grid.Row="1" />

        <Grid
            Grid.Row="2"
            Height="95"
            Margin="0,0,0,0"
            VerticalAlignment="Bottom">

            <Button
                Width="50"
                Height="30"
                Margin="3"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom"
                BorderBrush="{DynamicResource MahApps.Brushes.ThemeBackground}"
                Click="Button_Click_1"
                Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                IsEnabled="True">
                <iconPacks:PackIconCodicons Kind="ArrowLeft" />
            </Button>
            <hc:StepBar
                x:Name="StepMain"
                Grid.Row="2"
                Grid.Column="0"
                Grid.ColumnSpan="2"
                Margin="50,0,50,3"
                Dock="Bottom">
                <hc:StepBarItem Content="Select project type" />
                <hc:StepBarItem Content="Project configuration" />
                <hc:StepBarItem Content="Finalize setup" />
            </hc:StepBar>
            <Button
                Width="50"
                Height="30"
                Margin="3"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                BorderBrush="{DynamicResource MahApps.Brushes.ThemeBackground}"
                Click="Button_Click"
                Command="{Binding NextCmd}"
                CommandParameter="{Binding ElementName=StepMain}"
                Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                IsEnabled="{Binding AllFieldIsValid}">
                <iconPacks:PackIconCodicons Kind="ArrowRight" />
            </Button>
        </Grid>
        <syncfusion:WizardControl
            Name="wizardControl"
            Grid.RowSpan="3"
            Margin="0,33,0,0"
            Finish="wizardControl_Finish"
            FinishButtonClosesWindow="True">
            <syncfusion:WizardPage
                Name="wizardPage1"
                BackVisibility="Collapsed"
                HelpVisibility="Collapsed"
                NextVisibility="Collapsed">

                <Grid Grid.Row="1" HorizontalAlignment="Stretch">

                    <StackPanel
                        Margin="0,-20,0,0"
                        VerticalAlignment="Center"
                        Orientation="Vertical">

                        <Grid Margin="0,-40,0,0">

                            <StackPanel>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1.2*" />
                                        <ColumnDefinition Width="4*" />
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Orientation="Vertical">
                                        <hc:ImageSelector
                                            x:Name="imgSelector"
                                            Width="125"
                                            Height="125"
                                            Margin="0,10,0,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center" />
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Foreground="Gray"
                                            Text="Project icon (Optional)"
                                            TextAlignment="Left" />
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Margin="0,5,0,0">
                                        <hc:TextBox
                                            x:Name="xprojectNameTxtbx"
                                            Margin="0,-10,0,0"
                                            HorizontalAlignment="Stretch"
                                            hc:InfoElement.Necessary="True"
                                            hc:InfoElement.Title="Project Name"
                                            hc:InfoElement.TitlePlacement="Left"
                                            hc:InfoElement.TitleWidth="90"
                                            Style="{StaticResource TextBoxExtendCustom}"
                                            Text="{Binding ProjectName}" />
                                        <!--  VerifyFunc="VerifyIfProjectExists"  -->

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="3*" />
                                                <ColumnDefinition Width="60" />
                                            </Grid.ColumnDefinitions>
                                            <hc:TextBox
                                                x:Name="projectPathTxtbx"
                                                Margin="0,10,0,0"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Top"
                                                hc:InfoElement.Necessary="True"
                                                hc:InfoElement.Title="Project Path"
                                                hc:InfoElement.TitlePlacement="Left"
                                                hc:InfoElement.TitleWidth="90"
                                                Style="{StaticResource TextBoxExtendCustom}"
                                                Text="{Binding ProjectPath}" />
                                            <!--  VerifyFunc="VerifyFolder"  -->
                                            <Button
                                                Grid.Column="1"
                                                Width="50"
                                                Height="34"
                                                Margin="0,0,10,0"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Bottom">

                                                <iconPacks:PackIconCodicons
                                                    Grid.Row="0"
                                                    Width="15"
                                                    Height="15"
                                                    Margin="0,0,0,0"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                                                    Kind="FolderOpened"
                                                    Spin="False"
                                                    SpinAutoReverse="False" />
                                            </Button>
                                        </Grid>
                                        <hc:ComboBox
                                            Margin="0,20,8,0"
                                            hc:InfoElement.Necessary="False"
                                            hc:InfoElement.Title="Project Type"
                                            hc:InfoElement.TitlePlacement="Left"
                                            hc:InfoElement.TitleWidth="90"
                                            SelectedIndex="0">
                                            <ComboBoxItem Content="Cyberpunk 2077" />
                                        </hc:ComboBox>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Grid>
            </syncfusion:WizardPage>
        </syncfusion:WizardControl>
    </Grid>
</catel:UserControl>
